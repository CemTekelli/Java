Programme Mails_Program

Declarations

    variables info, cv, spam, sales, reception 

    info = objet { 
        email = "info@parkshark.com"
        boite = []
        taille = this.boite.longueur
    }
    cv = objet {
        email = "recruitment@parkshark.com"
        boite = []
        motClé = "cv"
        size = this.boite.longueur
    }
    spam = objet {
        email = "spam@parkshark.com"
        boite = []
        motClé = ["promo", "advertising"]
        size = this.boite.longueur
    }
    sales = objet {
        email = "sales@parkshark.com"
        boite = []
        motClé = "proposal"
        size = this.boite.longueur
    }
    reception = objet {
        email = "reception@parkshark.com"
        boite = []
        motClé = ""
        size = this.boite.longueur
    }
    jobstudent = objet {
        email = "jobstudent@parkshark.com"
        boite = []
        motClé = ""
        size = this.boite.longueur
    }

    string sendTo = reception.email;

Début

    si (info.longueur > 0 ) alors

        traiter les données de info #avec un for créer une boucle qui fera le tour de l'array contenant les mails

            selon le texte faire

                cas cv.motClé           : envoyer objet vers array cv & envoyer le mail à cv.email
                cas spam.motClé         : envoyer objet vers array spam & envoyer le mail à spam.email
                cas sales.motClé        : envoyer objet vers array sales & envoyer le mail à sales.email
                cas reception.motClé    : 
                    if sendTo = reception.email 
                        envoyer objet vers array reception & envoyer le mail à reception.email
                        sendTo = jobstudent.email
                    else 
                        envoyer objet vers array jobstudent & envoyer le mail à jobstudent.email 
                        sendTo = reception.email

            
        écrire (
            We have sorted info.boite.longueur mails:

                cv.boite.longueur to recruitment

                spam.boite.longueur to spam

                sales.boite.longueur to sales
                
                reception.boite.longueur + jobstudent.size to reception
        )

        sales_size = sales.size 

    sinon
        écrire ("Vous n'avez pas recu d'email")

    écrire (
    We have sorted info.boite.longueur mails:

        cv.boite.longueur to recruitment

        spam.boite.longueur to spam

        sales.boite.longueur to sales

        reception.size + jobstudent.size to reception
    )   

    info_weekly_lenght += spam.size

    // end of the week, delete all emails from arrays
    set info_weekly_length = 0; 


Fin
